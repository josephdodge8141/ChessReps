export const TestPgn = `[Event "Starting Out: 1 d4!: The King's Indian Defense"]
[Site "https://lichess.org/study/27jtEVnU/d7OWowI4"]
[Result "*"]
[UTCDate "2021.09.14"]
[UTCTime "19:31:20"]
[Variant "Standard"]
[ECO "E97"]
[Opening "King's Indian Defense: Orthodox Variation, Bayonet Attack, Sokolov's Line"]
[Annotator "https://lichess.org/@/chubs8141"]

1. d4 Nf6 2. c4 g6 3. Nc3 Bg7 4. e4 d6 5. Nf3 O-O { [%cal Gf1e2,Bd1d4,Rf1d3] } 6. Be2 { Here white develops simply. The knights are placed actively and the bishop belongs on e2 because on d3 it would obstruct the queens defense of the d4 pawn. Black can equalize too easily after 6...Bg4 7 h3 Bxf3 8 Qxf3 Nc6 9 Be3 e5 } { [%cal Ge7e5,Gb8a6,Gb8d7,Gc7c5] } (6. Bd3 Bg4 7. h3 Bxf3 8. Qxf3 Nc6 9. Be3 e5 $10) 6... e5 { No reason to break the tension immediately continue naturally with 7 0-0 } { [%cal Ge1g1] } (6... Na6 7. O-O { after e5 this will transpose into a main line } 7... e5) 7. O-O { [%cal Gb8a6,Gb8c6,Gb8d7,Ge5d4] } 7... Nc6 { Here white can't keep the tension any longer after 8 Be3 Re8 9 d5 Nd4 will lead to an equal position } { [%cal Rc1e3,Gd4d5] } (7... Na6 { White has quite the choice here between Be3 and Re1. We will be analyzing Re1 because Kramnik, Kasparov and Karpov all played it and they are pretty good. } 8. Re1 { [%csl Gd8] } 8... exd4 { this should lead to a comfortable position for white with none of the counterplay that is expected in the Kings Indian Defense } (8... Qe8 { Qe8 is a move that tries to maximize doing nothing forcing white to commit to something. There are also lines where the queen defending the knight on h5 is tactically relevant thus enhancing f5. } 9. Bf1 Bg4 (9... exd4 10. Nxd4) 10. d5 Nb4 { here there are two approaches. I think that the lines after a3 Bxf3 are easier to prove with white than the slower Be3, but both are playable and should be good for white. } (10... Nc5 11. b4 Ncd7 12. Rb1 (12. a3))  (10... c5) 11. Bd2 { [%cal Ga7a5] } (11. a3 Bxf3 12. gxf3 Na6 13. b4 Nh5 14. c5 dxc5 15. Bxa6 bxa6 16. bxc5 f5 (16... Qd7)  (16... Qe7 { [%cal Ge7h3] } 17. d6 cxd6 18. Nd5 Qh4 19. c6) 17. Rb1 Qe7 18. d6 cxd6 19. Nd5 Qh4 20. Nc7 Rac8 21. cxd6 fxe4 22. Rxe4 Qh3 23. d7 Rcd8 24. Qb3+ Rf7 25. Ne6 Rdxd7 26. Ng5 Qf5 27. Nxf7 Qxf7 (27... Rxf7 28. Qd5))) 9. Nxd4 Nc5 10. Bf1 Re8 11. f3 c6 (11... a5 12. Be3) 12. Be3)  (7... Nbd7 8. Be3 c6)  (7... exd4 8. Nxd4 Re8 (8... c6 9. Kh1 Nbd7 { [%cal Gc1g5] }) 9. f3 c6 (9... Nh5 10. g4 Nf6 11. Be3 h5 12. g5 Nh7 13. f4 Bh3 14. Rf3 Bg4 15. Rf2)  (9... Nc6 10. Be3) 10. Kh1 Nbd7 (10... d5 11. cxd5 cxd5 12. Bg5 dxe4 13. Ndb5 { [%cal Gd8d1] } 13... Qxd1 14. Raxd1 Na6 15. fxe4 Nh5 16. Nd6) 11. Bg5 Qb6 12. Nb3) 8. d5 (8. Be3 Re8 { 9 d5 Nd4 tends toward equality as mentioned before, but white can try dxe5 as a fun side line. } { [%cal Gd4d5] } 9. d5 (9. dxe5 { [%cal Gd6e5,Gc6e5] } 9... dxe5) 9... Nd4 10. Nxd4 exd4 11. Bxd4 Nxe4 12. Nxe4 Rxe4 13. Bxg7 Kxg7 14. Bd3 $10) 8... Ne7 9. b4 { Here we see the beginning of the Bayonet attack. After 9 b4 the structure is a little more clarified and demands that white plays on the queenside and black on the kingside with the critical breaks being c5 and ...f5 respectively. } { [%cal Gf6h5,Gf6e8,Gf6d7,Gc7c6,Ga7a5] } 9... Nh5 { Here we see Kramnik's approach to the Bayonet attack Re1. } (9... a5 { This seems to be a good response and seems to slow down whites plan of playing c5. 10 a3 is not possible because 10 ...axb4 11 axb4 Rxa1. 10 b5 would allow 10 ...b6 which makes c5 nearly impossible to play, which leaves white with the idea 10 Ba3 } 10. Ba3 { Whites goal is to rip the queenside open and will be the winner of most races in this position even if it means giving up the light squared bishop. Thus 10 ...Nh5 is met with 11 c5 axb4 12 Bxb4 Nf4 13 cxd6 cxd6 14 Nb5 should be better for white. Black will likely avoid this with 10 ...axb4 } 10... axb4 { [%csl Gb4] } (10... Nh5 11. c5 axb4 12. Bxb4 Nf4 13. cxd6 cxd6 14. Nb5 $16)  (10... b6 { This line should transpose into the main line after bxa5 Rxa5 Bb4 Ra8. If bxa5 is played c5 is positionally crushing. } 11. bxa5 Rxa5 (11... bxa5 12. c5 dxc5 13. Bxc5) 12. Bb4 Ra8 13. a4) 11. Bxb4 { [%cal Gb7b6,Gf6d7] } 11... b6 { Here white plays 12 a4 with the intent of pushing a5 and eventually removing blacks b pawn from the defense of c5. } (11... Nd7 12. a4 { white will play similarly with a4 }) 12. a4 { Here black has several options Nh5 will turn into a race with a5 should be positionally better for white. The best tries for black are Ne8 and a slightly more passive, yet solid approach Re8. } { [%cal Gf6h5,Gf8e8,Gf6e8] } 12... Ne8 { There is a trap here if white were to try 13 a5 black has c5 and after dxc6 axb5 the knight is now defending d6 and white stole a pawn. White can continue naturally with Nb5 } { [%cal Gc3b5,Ra4a5] } (12... Re8 { black plays this move to play Bf8 to help a c5 push. White can play pretty naturally here with Re1 to play Bf1 and carrying on with the Nb5 and a5 plans } 13. Re1 $16)  (12... Nh5 13. a5 bxa5 (13... c5 14. dxc6 bxa5 { The same trap doesn't work with Nh5 because of the undefended d6 pawn } 15. c7 Qxc7 16. Bxd6) 14. Bxa5 Nf4 15. Nd2 { white should again be winning most races here with the open queenside } { [%cal Gd2e4,Gc3e4] } (15. c5 dxc5 16. Qb3 Nexd5 17. exd5) 15... Qd7) 13. Nb5 (13. a5 c5 14. dxc6 Nxc6) 13... f5 { whites typical response to f5 is going to be Nd2 when there is a race situation like this. } (13... c6 14. dxc6 Nxc6 15. Bxd6 Nxd6 16. Qxd6 Qxd6 17. Nxd6) 14. Nd2 { c6 or c5 will be taken and after Nxc6 and Ba3 the position will be slightly better for white and is quite a typical position. } 14... c6 (14... Bh6 { [%cal Ge2f3] } 15. a5) 15. dxc6 Nxc6 16. Ba3 Be6)  (9... Nd7 { Black simultaneously prepares f5 and seemingly discourages c5... You have a choice here. Nd2 seems to be the most dynamic for white and can lead to positions that are simply winning, but c5 and a4 are both reasonable approaches } 10. Nd2 { [%cal Gf7f5,Ga7a5,Gb7b6] } (10. c5 dxc5 (10... f5 11. Nd2 dxc5 12. bxc5 Nxc5) 11. bxc5 Nxc5 12. Ba3 Nd7) 10... f5 { after f5 we will enter the race with c5 temporarily giving up the pawn } (10... a5 11. bxa5 Rxa5 12. a4 f5 13. Ba3 b6 14. Bb4 Ra8 { note a transposition }) 11. c5 dxc5 (11... Nf6 { This becomes a very complicated race, but if played accurately white should be better. } 12. f3 { here black should be trying to gain space on the kingside and play f4 or g5 or h5 anything else should be a waste of time and you can punish them by continuing your plans. } 12... f4 { now that we have accomplished c5 we want to go after the d6 pawn with Nc4 and eventually Ba3. } (12... Bd7 13. a4 (13. Nc4 dxc5 (13... f4 14. Ba3) 14. bxc5 b5))  (12... g5 13. Nc4 g4 14. fxg4 f4) 13. Nc4 g5 { white should play Ba3 here to continue applying pressure to the d6 pawn. Important to note that g5 is a dual purpose move, it gains space, but also opens the g6 square for the knight. } { [%cal Gc1a3] } (13... Ne8) 14. Ba3 { [%cal Ge7g6] } 14... Ng6 { white has a unique approach to getting at the d6 square, by playing b5 white not only gains space, but attacks blacks pawn. } { [%cal Gb4b5] } 15. b5 { white forces black to waste time releasing the tension or go into a complicated position with Ne8. } { [%cal Gd6c5,Gf6e8] } 15... dxc5 (15... Ne8 { here we break the queenside down with b6 } 16. b6 axb6 (16... cxb6 17. Nxd6 bxc5 (17... Nxd6 18. cxd6 g4 (18... a6 19. d7 Bxd7 20. d6 Be6 21. Nd5)) 18. Nxe8 Rxe8 19. d6 Be6 20. Nd5 Rc8 21. Nc7) 17. cxb6 cxb6 18. Qb3 h5 { white cannot immediately recapture the pawn as the bishop will fall in the end. We must move a rook to the b-file and either one is fine. I would generally choose the f-rook because our play is on the queenside and it is not yet a critical defender. } 19. Rfb1 g4 20. Nxb6 Qh4 { although this is terrifying white is fine here. you can get away with taking the rook, but taking the bishop makes blacks position almost impossible to play. } (20... Qg5 21. fxg4 (21. Nxa8 g3 22. h3 Qh4 23. Rb2 Bxh3 24. gxh3 Qxh3 { [%cal Ge2b5] } 25. Bb5 (25. Bf1 Qh4 26. Qxb7 Rf7 27. Qb8 Qe7) 25... Nh4) 21... f3 22. Bxf3 hxg4 23. Be2 g3) 21. Nxc8 (21. Nxa8 g3 22. Qb6 { [%csl Gc5,Gd4,Ge3,Gf2][%cal Gg7f6,Gf6d8] } 22... Bf6 (22... Qxh2+ 23. Kf1 Bf6 (23... Nh4)  (23... Rf6 24. Qg1) 24. Qg1)  (22... gxh2+ 23. Kh1 Bf6 (23... Qg3 24. Bxd6 (24. Bf1 h4 25. Bxd6 Nxd6 26. Qxd6 h3 27. Ne2 hxg2+ 28. Bxg2 Qg5 29. Nc7 (29. Rf1 Nh4 30. Rf2 Bg4 { [%cal Gf3g4] } (30... Rf7 31. Nb6 Bf5 32. exf5 e4 33. fxe4 f3 34. Bxf3 Bxa1 35. Bg2 (35. Rg2 Nxg2 36. Bxg2 Rg7 37. Qb8+ Kh7 38. Qxh2+ Kg8 39. Nf4 Qg4 40. Ne6)))) 24... Bh3 25. gxh3 Nh4)) 23. hxg3 fxg3 24. Kf1 { [%cal Gg6f4] }) 21... g3 22. h3 Rxc8 23. Nb5 Qd8) 16. Bxc5 { black has only one move here that, to me, is a bit counterintuitive.Rf7 } 16... Rf7 { this position is absolutely critical. I suggest using the engine to go through a few lines and understand exactly why white isn't completely lost. The only move for white here that retains advantage is Kh1. } (16... Re8) 17. a4 (17. Kh1 h5 18. d6 (18. a4 g4 19. a5 g3 20. b6 cxb6 (20... Nh7 21. d6 cxb6 22. axb6 Qh4 23. Bg1 Ng5 24. Rxa7 Rb8 25. Nd5 Bh3 26. gxh3 Qxh3 27. Rf2 gxf2 (27... Nh4 28. Qf1 gxf2 29. Bxf2 Qxf1+ 30. Bxf1 Nhxf3 31. Ne7+ Kf8 32. Ra3 { [%csl Gf1,Gf2,Gc4,Ge7,Ga3,Gf3,Gg5,Gg7] } 32... Bf6 33. Nd5) 28. Bxf2 Nh4 29. Ne7+ Rxe7 30. Bxh4 Rd7 (30... Nxf3 31. Bxf3 Rc7 (31... Rd7 32. Be7))) 21. axb6) 18... Be6 19. Bxa7 Rxa7 20. dxc7 Qxd1 21. Raxd1 b6 22. Rd8+ Rf8 23. Nd5 { [%cal Ge6d5] } 23... Bxd5 (23... Nxd5 24. exd5 { [%cal Ge6f5] } 24... Bf5 (24... Rxc7 25. Rxf8+ Bxf8 26. dxe6 Bc5 27. a4 Re7 28. a5 bxa5 29. b6) 25. d6) 24. c8=Q) 17... h5 18. a5 g4 19. b6) 12. bxc5 Nxc5 13. Ba3 { Ba3 is the critical move that forces black to play b6 } 13... Nd7 { [%cal Gd5d6,Ga3d6] } (13... Nxe4 14. Ndxe4 fxe4)  (13... b6 { here we can take the knight re route our own knight to b3 and play with a very comfortable position with many tactical tricks in favor of white. } 14. Bxc5 bxc5 15. Nb3 Qd6 16. Nb5 Qb6 17. Nxc7 Qxc7 18. d6 Qd8 19. Nxc5 Nc6)) 10. Re1 f5 { here is another place for some fun deviations once you have a good understanding in these positions. Ng5 is the main idea. Threatening to dismantle the kingside with Bxh5 } (10... Nf4 11. Bf1 { Although this knight seems pretty on f4 it really isn't accomplishing all that much in the way of an attack. } { [%cal Gf7f5,Ga7a5,Gc8g4] } 11... a5 (11... f5 { this line should be good for white after taking the knight on f4 and playing e5 and c5, going after the d6 square. } 12. Bxf4 exf4 13. e5 dxe5 (13... a5 14. c5 dxe5 15. Nxe5 axb4 16. Qb3 Kh8 17. Qxb4 Nxd5 18. Nxd5 Qxd5 19. Bc4 Qd8 20. Rad1) 14. Nxe5 a5 (14... Bd7) 15. c5 axb4 16. Qb3!)  (11... Bg4 12. h3 Bxf3 13. Qxf3 f5 14. g3 Nh5 (14... fxe4 15. Qxe4 Nh5 16. Bg5) 15. c5 fxe4 16. Qxe4 Nf5 17. g4 { [%cal Gh5f6] } (17. Bg2 a5 18. Nb5 axb4 19. Qxb4)) 12. bxa5 Rxa5 13. a4 (13. Nd2 c5 (13... b6 14. a4 { [%csl Gd2,Gb6] } 14... Bd7 15. Ra3 { [%cal Ga3h3] } 15... f5 { [%csl Gg3] }) 14. a4 { [%cal Ga5a6] } 14... Ra6 15. Ra3 g5 (15... f5 { [%cal Gg2g3] } 16. g3 Nh5)  (15... Kh8 { [%cal Ge7g8] }) 16. g3 Nh3+ 17. Bxh3 Bxh3 { [%cal Gd2f3] } 18. Qh5 g4 (18... Qd7 19. Qxg5) 19. Nf3!) 13... c5 { [%cal Ga1a3] })  (10... a5 11. bxa5 Rxa5 12. Nd2 (12. a4 f5 { [%cal Gf3g5] } (12... c5 13. Nd2 (13. Ra3 f5 14. exf5 gxf5 (14... Bxf5 15. Ng5 { [%cal Ge2h5] } 15... Nf4 16. Bxf4 exf4 17. Nb5 { [%cal Gb5d6] }) 15. Nxe5) 13... Nf4 (13... f5 { [%cal Ge2h5] }) 14. Bf1 f5 15. Nb5 { [%csl Gd6] } 15... Nh5) 13. Nd2 (13. Ng5 h6 (13... Nf4 14. Bf1 { [%cal Gf1h3] } 14... h6 15. Nf3 fxe4 16. Nxe4 Bg4 17. Bxf4)) 13... Nf6 14. f3 { [%cal Gf5f4] }) 12... f5 13. Bxh5 gxh5 14. Qxh5 f4) 11. Ng5 { Black needs to avoid losing this knight, so it should be moved. } 11... Nf6 { white has two main choices here Bf3 or f3, both of which can be played. We will be looking at the Bf3 approaches } (11... Nf4 12. Bxf4 exf4 { note exf4 opens up an attack and pin on whites c3 knight. White must play Rc1 to avoid any trouble } 13. Rc1 $7 h6 (13... Bf6 14. Ne6 Bxe6 15. dxe6 Bxc3 16. Rxc3 fxe4 17. Bg4 (17. Bf1 { [%cal Ge4e3] } 17... e3 18. fxe3 fxe3 19. Rcxe3 c6 20. Qd2 d5 21. cxd5 cxd5 22. Qd4 Nf5 23. Qe5 Nxe3 24. e7 Rxf1+ 25. Rxf1 Qe8 26. Qe6+ Kg7 27. Qf6+ Kg8 28. Qe6+ Kg7 29. Qxe3 Rc8 30. Qe5+ Kg8 31. Qxd5+ Kg7 32. Qxb7 Rc4 33. Rf8 Qc6 34. Qxc6 Rxc6 35. e8=Q Rc1+ 36. Rf1) 17... e3 18. fxe3 fxe3 19. Rcxe3 c6 { [%csl Gf1][%cal Gd1d2] } 20. Qd2 d5 21. cxd5 cxd5 22. Qd4) 14. Ne6 Bxe6 15. dxe6 fxe4 16. Nxe4 Nc6)  (11... Bf6 12. Ne6 Bxe6 13. dxe6)  (11... h6 12. Ne6 Bxe6 13. dxe6 (13. Bxh5 gxh5 14. dxe6 h4 15. Qh5 f4 16. Qxh4) 13... fxe4 (13... Nf6 14. exf5 (14. f3 fxe4 15. fxe4 Nc6 16. Nd5 Nxe4 17. Qd3 Nf6)) 14. Nxe4) 12. Bf3 { This seems somewhat odd placing your bishop behind your own pawns, but as the position clarifies d5 and e4 will disappear and the bishop will make sense } { [%cal Gf5e4,Gc7c6,Gg8h8] } 12... c6 (12... Kh8 { Kramnik said that although useful Kh8 is not worth the tempo. He used the approach of Bb2 } 13. Bb2 { Important note: In these positions the breaks revolve more around dxe6 (after Ne6 Bxe6) and exf4 than c5 so we can play b5 in response to a5. This is initially a bit unnatural, but because black "sacrificed" that tempo with Kh8 it really dampens some of our tactical threats after a c5 break. We must adapt and take advantage of the fact that black avoided the race and is now inviting weakness. } 13... Ne8 { [%cal Gc4c5] } (13... a5) 14. Qd2 f4 15. Ne6 Bxe6 16. dxe6 { this enters another typical race } 16... Qc8 17. Bg4 h5 18. Bh3 g5 { this position will be complicated, but can often result in white being up a pawn but under some pressure. } 19. Nd5 g4 20. Bxg4 hxg4 21. Nxe7 Qxe6 22. Nf5 { this is } 22... Qg6 23. c5 Rd8 24. cxd6 Nxd6 25. Nxg7 Qxg7 26. Qd5 Nf7 27. Qxb7)  (12... fxe4 { this is an attempt to equalize rather than create active counterplay. White should maintain some advantage after recapturing the pawn. } 13. Ngxe4 Nf5 14. Bg5 { [%cal Gf5d4] } 14... Nd4 15. Nb5 Nxf3+ (15... Nxb5 16. cxb5 Qe8 17. Bxf6 Bxf6 18. a4) 16. Qxf3) 13. Bb2 { White doesn't mind provoking h6 as it should be either a weakness or a waste of time. No need to rush Ne6 } 13... h6 14. Ne6 Bxe6 15. dxe6 fxe4 16. Nxe4 Nxe4 17. Rxe4 d5 18. cxd5 cxd5 19. Rxe5 Bxe5 20. Bxe5 { This position requires some special attention as it is an exchange sacrifice, but white should never really be worse in any of these positions. } 20... Qb6 21. Bb2 { [%cal Gb6b4] } *`

